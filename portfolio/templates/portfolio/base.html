{% load static %}

<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="utf-8">
    <meta name="color-scheme" content="light dark">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}Matei Robescu{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
</head>

<style>
    .navbar {
        font-size: 1.25rem;
    }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const logo = document.getElementById('theme-logo');
    const lightLogo = logo.dataset.lightLogo;
    const darkLogo = logo.dataset.darkLogo;

    function applyTheme(theme) {
      document.documentElement.setAttribute('data-bs-theme', theme);
      logo.src = theme === 'dark' ? darkLogo : lightLogo;
    }

    function getStoredTheme() {
      return localStorage.getItem('theme') || 'dark';
    }

    // Apply stored or default theme
    applyTheme(getStoredTheme());

    // Listen for manual theme change buttons
    document.querySelectorAll('[data-bs-theme-value]').forEach(button => {
      button.addEventListener('click', () => {
        const selectedTheme = button.getAttribute('data-bs-theme-value');
        localStorage.setItem('theme', selectedTheme);
        applyTheme(selectedTheme);
      });
    });
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>

<body>

    <nav class="navbar navbar-expand-md bg-body-tertiary">
      <div class="container-fluid d-flex">
        <a class="navbar-brand" href="#">
            <img
              id="theme-logo"
              src="{% static 'portfolio/images/logo_white.svg' %}"
              data-light-logo="{% static 'portfolio/images/logo_black.svg' %}"
              data-dark-logo="{% static 'portfolio/images/logo_white.svg' %}"
              alt="mateirobescu.com logo"
              class="img-fluid"
              style="max-width: 4.25rem"
            >
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-end" id="navbarTogglerDemo02">
          <ul class="navbar-nav ms-auto mb-lg-0">
            <li class="nav-item">
              <a class="nav-link" href="#">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Projects</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">CV</a>
            </li>
            <li class="nav-item">
              <a class="nav-link">Contact</a>
            </li>
            <li class="nav-item d-flex align-items-center">
              <div class="dropdown">
                  <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                    <i id="theme-icon" class="bi bi-moon me-2"></i>
                  </button>
                  <ul class="dropdown-menu dropdown-menu-end">
                    <li>
                      <button class="dropdown-item d-flex align-items-center" data-bs-theme-value="light">
                        <i class="bi bi-sun me-2"></i> Light
                      </button>
                    </li>
                    <li>
                      <button class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark">
                        <i class="bi bi-moon me-2"></i> Dark
                      </button>
                    </li>
                  </ul>
                </div>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main class="container">
        {% block content %}
        {% endblock %}
    </main>

</body>
</html>